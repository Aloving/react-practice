# Задача 11 — Error Boundary и восстановление

**Уровень:** senior

## Цель

Error Boundary с fallback-UI, кнопкой «Повторить» и опциональным логированием в сервис. Обработать асинхронные ошибки (например, из промисов в useEffect).

## Требования

- Классовый компонент Error Boundary (или библиотечный), оборачивающий часть дерева.
- При поимке ошибки рендера показывать fallback: сообщение и кнопку «Повторить» (сброс состояния ошибки и повторная попытка рендера дочерних компонентов).
- Опционально: при ошибке вызывать функцию логирования (мок сервиса: console.log или отправка в «сервис»).
- Демо: дочерний компонент, который по кнопке выбрасывает ошибку (синхронно) или отклоняет промис (асинхронно). Для асинхронных ошибок из useEffect — либо обернуть в try/catch и setState с ошибкой с последующим rethrow, либо использовать паттерн с границей и «ошибкой в state» внутри дерева.

## Подсказки

- `static getDerivedStateFromError` и `componentDidCatch` в классовом компоненте.
- Кнопка «Повторить» сбрасывает state ошибки в Boundary (например, `setState({ error: null })`) или ключ обёртки, чтобы дочерние пересоздались.
- Асинхронные ошибки (промисы) не ловятся getDerivedStateFromError; в useEffect при catch вызывать setError и рендерить fallback внутри дерева или пробрасывать через контекст.

## Критерии приёмки

- Синхронная ошибка в дочернем компоненте ловится Boundary, показывается fallback и кнопка «Повторить».
- После «Повторить» дочерний компонент рендерится снова (ошибка сброшена).
- Асинхронная ошибка (из useEffect/промиса) обработана: пользователь видит сообщение и может повторить.
